@import "./../variables.less";


// Fonts
// --------------------------------------------------

@import url(http://fonts.googleapis.com/css?family=Amatic+SC:400,700);

// Mixins
// --------------------------------------------------

.rounded-corners (@radius: 5px) {
  -webkit-border-radius: @radius;
  -moz-border-radius: @radius;
  -ms-border-radius: @radius;
  -o-border-radius: @radius;
  border-radius: @radius;
}

.handwriting-font () {
  font-family: 'Amatic SC', cursive;
}

.nowrap () {
  overflow-wrap: break-word;
  word-wrap: break-word;
}

// Base
// --------------------------------------------------

h1 {
  .handwriting-font();
}

// Header
// --------------------------------------------------

// Front Page

@header-height: 500px;
@header-height-sm: 220px;
@jumbotron-min: 700px;

body.home {
  @media (max-width: 767px) {
    padding-left: 0;
    padding-right: 0;
  }
}

.banner { }

.jumbotron {
    overflow: hidden;

    img {
      top: 0;
      //bottom: 0;
      left: 0;
      min-width: 100%;
      position: absolute;
    }
}

.jumbotron-inner {
  overflow: hidden;
  position: relative;
  width: 100%;
  height: @header-height-sm;
  // Display as a table for the "Table-Cell" vertical centering technique
  // See http://coding.smashingmagazine.com/2013/08/09/absolute-horizontal-vertical-centering-css/#Table-Cell
  display: table;

  @media (min-width: @jumbotron-min) { 
    height: @header-height; 
  }

  // Extra wrapper div for the "Table-Cell" vertical centering technique
  // See http://coding.smashingmagazine.com/2013/08/09/absolute-horizontal-vertical-centering-css/#Table-Cell
  .brand-wrapper {
    display: table-cell;
    vertical-align: middle;
  }

  .brand {
    position: relative;
    width: 50%;
    margin: 0 auto;
    padding: 20px;
    text-align: center;
    background-color: fadeout(@patchwork-blue, 21%);
    .rounded-corners(20px);

    .handwriting-font();
    font-size: 18px;
    font-weight: bold;

    @media (min-width: @jumbotron-min) {
      font-size: 24px;
    }

    img.logo {
      min-width: 0;
      width: 100%;
      margin: 0 auto;
      display: block;
      position: relative;

      @media (min-width: @jumbotron-min) {
        width: 80%;
      }
    }

    .description {
      display: none;

      @media (min-width: @jumbotron-min) {
        display: block; 
        padding-top: .3em;
      }
    }

    nav {
      padding: 8px 0;

      ul {
        list-style: none;
        margin: 0;
      }

      li {
        @media (min-width: @jumbotron-min) {
          display: inline;
          padding-right: 1em;

          &:last-child {
            padding-right: 0;
          }
        }
      }
    }
  }
}

.navbar.nav-main,
.navbar .nav-main {
  .handwriting-font();
  font-size: 24px;
}

.navbar .nav {
  > li > a {
    color: @navbarLinkColor; 
    text-shadow: none;
  }

  > li.active > a {
    color: @navbarLinkColorActive; 
  }

  .dropdown-menu > li > a {
    padding: 10px 20px;
  } 
}

.home .navbar .nav-main {
  padding-top: 8px;

  @media (min-width: @navbarCollapseDesktopWidth) {
    padding-top: 0;
  }
}


.jumbotron .navbar-static-top {
  margin-left: 0;
  margin-right: 0;
}

.navbar-inner {
  min-height: 32px;
  box-shadow: none;
  background-image: none;
  background-color: @patchwork-pink;
  border: none;

  .nav > li {
    line-height: 32px;
  }
}

.navbar .nav > .active > a,
.navbar .nav > .active > a:hover,
.navbar .nav > .active > a:focus {
  box-shadow: none;
}

#temp-banner {
  padding: 10px;
  text-align: center;
  background-color: @patchwork-yellow;
  font-weight: bold;
}

// Content
// --------------------------------------------------

.content { 
  background-color: #fff;
}

h2.entry-title,
h2.crop-type {
  // Same as Bootstrap's h2 small style in type.less
  font-size: @baseFontSize * 1.25; // ~18px
  line-height: 1;
}

article.post {
  margin-bottom: 2em;
}

.entry-meta-wrapper {
  time, .byline {
    display: inline-block;
  } 
}



// Primary Content
// --------------------------------------------------

.main { }

body.home > .container {
  width: 100%;
}

body.home .main {
  width: 100%;
  margin: 0;
}

@map-min: 767px;

#hours-location {
  background-color: black;

  h2:first-child {
    color: #fff;
    padding-left: 20px;

    @media (min-width: 400px) {
      float: left;
    }
  }
}

.nav-locations {
  padding-left: 10px;

  @media (min-width: 400px) {
    padding-left: 0px;
  }

  .nav {
    float: left;
    padding-left: 10px;
    margin-bottom: 0;
    padding-top: 0;
    padding-bottom: 10px;

    @media (min-width: 400px) {
      padding-top: 14px;
      padding-bottom: 0px;
    }

    li {
      a {
        color: @patchwork-blue;

        &:hover {
          color: #000;
        }
      }

      &.active {
        a {
          background-color: @patchwork-yellow;
          color: #000;
        }
      }
    }
  }
}

.location,
.big-map-container {
  width: 100%;
  position: relative;
  display: none;

  &.first {
    display: block;
  }

  @media (min-width: @map-min) {
    overflow: hidden;
    min-height: 500px;
    max-height: 965px;
  }

  // HACK: Workaround for Wordpress editor inserting empty paragraph
  p:empty {
    display: none;
  }
}

.no-js .location {
  display: block;
}

img.background {
  // Hide the map on narrow displays 
  display: none;
  position: absolute;
  top: 0;
  max-width: 100%;

  @media (min-width: @map-min) {
    display: block;
  }
}

.img-description {
  display: none;

  @media (min-width: @map-min) {
    display: block;
    position: absolute;
    bottom: 0;
    right: 0;
    padding: 10px;
    color: #fff;
    background-color: fadeout(#000, 21%); 
  }
}

.map-content {
  position: relative;
  padding: 2em;
  background-color: @patchwork-blue;

  @media (min-width: @map-min) {
    margin-top: 10%;
    margin-bottom: 10%;
    background-color: fadeout(#fff, 21%);
    .rounded-corners(20px); 
    z-index: 9998;
  }
}

.page-header {
  border: none;
  margin: 20px 0 20px;
  padding-bottom: 0;
}

// Thumbnails 
// --------------------------------------------------

@media (max-width: 767px) {
  .thumbnail {
    border: none;
    box-shadow: none;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
  }

  a.thumbnail {
    &:hover, :focus {
      box-shadow: none;
      -webkit-box-shadow: none;
      -moz-box-shadow: none;
    }
  }
}

// Sidebar
// --------------------------------------------------

@patchwork-sidebar-color: @patchwork-yellow;

.form-search {
  .input-append {
    .search-query {
      -webkit-border-radius: 4px 0 0 4px;
      -moz-border-radius: 4px 0 0 4px;
      -ms-border-radius: 4px 0 0 4px;
      -o-border-radius: 4px 0 0 4px;
      border-radius: 4px 0 0 4px;
    }

    .btn {
      -webkit-border-radius: 0 4px 4px 0;
      -moz-border-radius: 0 4px 4px 0;
      -ms-border-radius: 0 4px 4px 0;
      -o-border-radius: 0 4px 4px 0;
      border-radius: 0 4px 4px 0;
    }
  }
}

.sidebar {
  margin-top: 2em; 
  margin-bottom: 2em;
  background-color: @patchwork-sidebar-color;

  section {
    padding: 1em;
  }
  
  h2, h3 {
    .handwriting-font();
  }

  a {
    .nowrap();
  }

  .widget-inner h3 {
    margin-top: 0;
  }

  .form-search {
    margin-bottom: 0;

    input#s {
      @media (min-width: 761px) and (max-width: 980px) {
        max-width: 60%;
      }
    }
  }
}


// Posts
// --------------------------------------------------

.hentry header { }
.hentry time { }
.hentry .byline { }
.hentry .entry-content { }
.hentry footer { }



// Footer
// --------------------------------------------------

.home footer {
  padding-left: 20px;
  padding-right: 20px;
}

footer {
  padding-top: 1em;
  background-color: @patchwork-pink;
  color: #fff;
}

.content-info { }


// WordPress Generated Classes
// See: http://codex.wordpress.org/CSS#WordPress_Generated_Classes
// --------------------------------------------------

.aligncenter { display: block; margin: 0 auto; }

.alignleft { 
  float: left; 
}

img.alignleft {
  margin: 1em 1em 1em 0;
}

.alignright { float: right; }

img.alignright {
  margin: 1em 0 1em 1em;
}

figure.alignnone { margin-left: 0; margin-right: 0; }
